(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7933],{19084:function(e,s,n){Promise.resolve().then(n.bind(n,20254))},20254:function(e,s,n){"use strict";n.r(s),n.d(s,{default:function(){return N}});var t=n(38638),a=n(48755),i=n(72013),l=n(97943),r=n(82756),d=n(83576),o=n(30607),c=n(85276),u=n(15489),x=n(36894),m=n(34086),h=n(5557),w=n(14734),f=n(44401);let j=e=>{let{children:s}=e,n=(0,f.rY)();return(0,t.jsx)("div",{className:"sticky box-content w-[--sidebar-width] flex-shrink-0 overflow-y-auto px-[--sidebar-gap] max-tablet:hidden",style:{top:n,height:"calc(100vh - ".concat(n,"px)")},children:s})};n(38695),n(85406),n(57720);var v=n(1782),p=n(99215),g=n(52043);function N(e){let{children:s}=e,n=h.Z.useState(e=>e.isOpen),i=function(){let[e,s]=(0,r.useState)({x:window.innerWidth/2,y:window.innerHeight/2});return(0,r.useEffect)(()=>{let e=()=>{s({x:window.scrollX+window.innerWidth/2,y:window.scrollY+window.innerHeight/2})};return window.addEventListener("scroll",e),window.addEventListener("resize",e),()=>{window.removeEventListener("scroll",e),window.removeEventListener("resize",e)}},[]),e}(),d=(0,p.dD)(),o=(0,l.usePathname)(),c=(0,l.useSearchParams)(),f=(0,u.UJ)(o,c),N=(0,x.Gt)(o),y=h.Z.useActions();(0,r.useEffect)(()=>(y.setHasCustomRootPageAnimation(!0),()=>{y.setHasCustomRootPageAnimation(!1)}),[y]);let S={animate:{opacity:n?0:1,scale:n?v.mm:1},transition:{...v.hc,delay:n?0:v.Nk}},b=(0,r.useMemo)(()=>(0,t.jsxs)(t.Fragment,{children:[null!=f&&(0,t.jsx)(u.Qt,{...f}),null!=N&&(0,t.jsx)(x.wW,{...N})]}),[f,N]);return(0,t.jsxs)(m.ZP.Provider,{initialStoreState:e=>{e.maxSelectedItems=100},children:[(0,t.jsx)("div",{className:"h-full max-h-screen min-h-screen w-full",children:(0,t.jsx)(a.E.div,{className:"min-h-screen w-full",style:{transformOrigin:"".concat(i.x,"px ").concat(i.y,"px")},...S,children:(0,t.jsxs)("div",{className:"relative flex min-h-screen",children:[(0,t.jsx)(j,{children:(0,t.jsx)(g.aO,{})}),(0,t.jsx)("div",{className:"flex-1",children:s}),null]})})}),(0,t.jsxs)(a.E.div,{className:"pointer-events-none fixed inset-0",...S,children:[(0,t.jsx)(w.JL,{asTabBarOnMobile:!0,actionButtons:b}),!d&&(0,t.jsx)(k,{})]})]})}function k(){let e=(0,m.NS)();return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c.$d,{children:(0,t.jsx)(c.IB,{display:e?c.lN.hidden:c.lN.visible,children:(0,t.jsx)(o.Z,{})})}),(0,t.jsx)(i.M,{initial:!0,children:e?(0,t.jsx)(c.$d,{children:(0,t.jsx)(d.e,{})}):null})]})}},83576:function(e,s,n){"use strict";n.d(s,{e:function(){return N}});var t=n(38638),a=n(8075),i=n(95672),l=n(44806),r=n(27416),d=n(62369),o=n(33874),c=n(57150);let u=(0,l.vU)({addedToQueue:{id:"useCreateBulkDownload.addedToQueue",description:"Notification message for when a new bulk download is added to the queue",defaultMessage:"Preparing download"},error:{id:"useCreateBulkDownload.error",description:"Notification message for when a bulk download fails",defaultMessage:"Error creating download"}});var x=n(8777),m=n(8074),h=n(83516),w=n(6327),f=n(85276),j=n(34086),v=n(38695),p=n(90015),g=n(91792);function N(){let e=(0,a.Z)(),{clearSelection:s}=j.ZP.useActions();return(0,t.jsx)(f.IB,{className:"relative flex items-center rounded-[24px] p-2",display:f.lN.animatePresence,children:(0,t.jsxs)(f.Ze,{className:"left-1/2 -translate-x-1/2",children:[(0,t.jsxs)("div",{className:"flex min-w-96 items-center justify-between gap-9",children:[(0,t.jsx)(k,{}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(y,{}),(0,t.jsxs)(v.z,{variant:"blur",size:"icon",onClick:()=>{s()},children:[(0,t.jsx)(g.x8,{className:"h-6 w-6"}),(0,t.jsx)("div",{className:"sr-only",children:(0,t.jsx)(i.Z,{...S.clearSelection})})]})]})]}),(0,t.jsx)(w.q,{group:"BulkAsyncActions",label:e.formatMessage(S.clearSelection),shortcuts:["ESCAPE"],handler:()=>{s()}})]})})}function k(){var e;let s=j.ZP.useState(e=>e.selectedItems),n=j.ZP.useState(e=>e.maxSelectedItems);return(0,t.jsxs)("div",{className:"pl-2 font-mono text-token-text-tertiary",children:[(0,h.qA)(s.length,null!==(e=null==n?void 0:n.toString().length)&&void 0!==e?e:2)," / ",n]})}function y(){let e=(0,m.cn)(),{data:s}=(0,x.Uc)(),n=j.ZP.useState(e=>e.selectedItems),l=!!(null==s?void 0:s.can_download_without_watermark)||e,{mutate:h}=function(){let e=(0,r.useQueryClient)(),s=(0,a.Z)();return(0,c.R)({success:()=>({message:s.formatMessage(u.addedToQueue)}),error:()=>({message:s.formatMessage(u.error)})},{mutationFn:e=>d.Z.bulkDownload(e),onSettled:()=>{e.invalidateQueries({queryKey:o.gr})},onSuccess:()=>{}})}();return(0,t.jsxs)(p.h_,{children:[(0,t.jsx)(p.$F,{asChild:!0,children:(0,t.jsxs)(v.z,{children:[(0,t.jsx)(g.UW,{className:"h-[18px] w-[18px]"}),(0,t.jsx)(i.Z,{...S.download})]})}),(0,t.jsxs)(p.AW,{children:[(0,t.jsx)(p.Ju,{className:"font-normal text-neutral-400",children:(0,t.jsx)(i.Z,{...S.download})}),(0,t.jsxs)(p.Xi,{className:"justify-between",onClick:()=>{h({generationIds:n.map(e=>e.id),collectionIds:[],watermarked:!0})},children:[(0,t.jsxs)("div",{className:"flex flex-1 items-center gap-2",children:[(0,t.jsx)(g.il,{className:"h-[18px] w-[18px] flex-row"}),(0,t.jsx)("div",{children:(0,t.jsx)(i.Z,{...S.media})})]}),(0,t.jsx)("div",{className:"text-token-text-tertiary",children:(0,t.jsx)(i.Z,{...S.watermark})})]}),(0,t.jsxs)(p.Xi,{onClick:()=>{h({generationIds:n.map(e=>e.id),collectionIds:[],watermarked:!1})},disabled:!l,children:[(0,t.jsx)(g.hk,{className:"h-[18px] w-[18px]"}),(0,t.jsx)("div",{children:(0,t.jsx)(i.Z,{...S.media})})]})]})]})}let S=(0,l.vU)({media:{id:"download.media",defaultMessage:"Media",description:"Media download option"},watermark:{id:"download.watermark",defaultMessage:"Watermark",description:"Watermark download option"},download:{id:"download.download",defaultMessage:"Download",description:"Download action"},clearSelection:{id:"download.clearSelection",defaultMessage:"Clear selection",description:"Clear selection action"}})}},function(e){e.O(0,[3346,2264,734,8145,5986,4734,4918,1162,1744],function(){return e(e.s=19084)}),_N_E=e.O()}]);
//# sourceMappingURL=layout-13ed0b91115c6cae.js.map