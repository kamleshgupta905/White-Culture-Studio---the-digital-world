(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4095],{2087:function(e,t,n){Promise.resolve().then(n.bind(n,85162))},85162:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return tc}});var l,a,s=n(38638),r=n(48755),o=n(97943),i=n(82756),c=n(62647),d=n(5557),u=n(23620),h=n(40670),x=n(8075),m=n(95672),p=n(44806),f=n(98580),g=n(6212),v=n(12908),j=n(51484),b=n(91783),y=n(38695),k=n(27032);function N(e){let{onClose:t}=e,n=(0,j.Z)(),l=(0,x.Z)(),{shouldShow:a}=(0,v.q)(f.K1.FEED_ANNOUNCEMENT);return(0,s.jsx)(k.Vq,{open:!0,onOpenChange:t,children:(0,s.jsxs)(k.cZ,{showCloseButton:!1,className:"max-h-[calc(100vh-80px)] w-[600px] max-w-[calc(100vw-24px)] overflow-y-auto p-0 pb-6",children:[(0,s.jsx)("div",{className:"aspect-[1080/507] w-full",children:(0,s.jsx)("img",{src:"https://cdn.openai.com/sora/images/onboarding-nux.jpg",alt:l.formatMessage(w.imageAlt)})}),(0,s.jsxs)("div",{className:"flex flex-col gap-3 px-6",children:[(0,s.jsx)(k.fK,{className:"items-start",children:(0,s.jsx)(k.$N,{children:(0,s.jsx)(m.Z,{...w.title})})}),(0,s.jsxs)("div",{className:"text-token-text-secondary",children:[(0,s.jsx)(m.Z,{...w.body})," ",(0,s.jsx)("a",{href:h.bj,className:"underline hover:no-underline",target:"_blank",children:(0,s.jsx)(m.Z,{...w.learnMore})})]}),a&&(0,s.jsx)("div",{className:"text-token-text-secondary",children:(0,s.jsx)(m.Z,{...w.rankedFeedContent})}),(0,s.jsx)(k.cN,{className:"justify-end pt-2",children:(0,s.jsx)(y.z,{className:"focus-visible:ring-0 focus-visible:ring-offset-0",onClick:()=>{t(),n.push("/explore")},children:(0,s.jsx)(m.Z,{...w.confirm})})})]})]})})}let w=(0,p.vU)({title:{id:"onboardingNuxModal.title",description:"Title for onboarding NUX modal",defaultMessage:"Welcome to Sora — turn ideas into images and videos"},body:{id:"onboardingNuxModal.body",description:"Body content for onboarding NUX modal",defaultMessage:"Sora is a creative tool, so please avoid harmful use, including creating explicit, violent, harassing, or deceptive content. Also, content you create that does not include uploaded media may be eligible for publishing on our explore feed, where it can be remixed and used by others."},learnMore:{id:"onboardingNuxModal.learnMore",description:"Learn more link text",defaultMessage:"Learn more."},confirm:{id:"onboardingNuxModal.confirm",description:"Button text to jump to the explore feed",defaultMessage:"Explore Sora"},imageAlt:{id:"onboardingNuxModal.imageAlt",description:"Alt text for the image in the onboarding NUX modal",defaultMessage:"Welcome image"},rankedFeedContent:{id:"onboardingNuxModal.rankedFeedContent",description:"Text for the ranked feed content",defaultMessage:"The explore page can use your previous likes and ChatGPT memories to show you the best images and videos -- if you’d like to opt out of this use of memories for explore, you can disable personalization in the settings menu."}});function S(){let e=(0,o.usePathname)(),[t]=(0,i.useState)(e),n=(0,u.Sl)(),l=((0,h.sM)(t)||"/onboarding"===t&&(0,h.sM)(e))&&!n,{shouldShow:a,onClose:r}=function(){var e,t;let[n,l]=(0,i.useState)(!1),{user:a}=(0,g.aC)(),s=(0,b.i7)(null!==(e=null==a?void 0:a.id)&&void 0!==e?e:""),{shouldShow:r,markAsSeen:c}=(0,v.q)(f.K1.FEED_ANNOUNCEMENT),d=(0,o.usePathname)(),[u]=(0,i.useState)(d),h="/onboarding"===u&&"/onboarding"!==d,x=(null==a?void 0:a.username)!=null,m=h||!x;return null==a||m||s||(0,b.Xk)(!0,null!==(t=null==a?void 0:a.id)&&void 0!==t?t:""),{shouldShow:!!(null!=a&&m&&!s&&!n),onClose:()=>{var e;(0,b.Xk)(!0,null!==(e=null==a?void 0:a.id)&&void 0!==e?e:""),l(!0),r&&c()}}}();return l&&a?(0,s.jsx)(N,{onClose:r}):null}var E=n(91792),C=n(27050),M=n(76420),P=n(87793),A=n(75010),Z=n(6327),L=n(95869),O=n(28427),F=n(54190);function _(e){let{query:t}=e,[n,l]=(0,i.useState)(0),r=F.Z.useActions(),c=(0,j.Z)(),u=function(){let e=(0,o.usePathname)(),t=d.Z.useState(e=>e.isOpen),n=d.Z.useState(e=>e.rootPage),l=t&&(null==n?void 0:n.href)!=null&&n.href.startsWith("/library");return e.startsWith("/library")||l?"library":"explore"}()===a.Library?[a.Library,a.Explore]:[a.Explore,a.Library];function x(e){switch(e){case a.Library:c.push((0,h.ij)(t),void 0,{scroll:!0});break;case a.Explore:c.push((0,h.Gj)(t),void 0,{scroll:!0});break;default:(0,A.R)(e)}r.close()}return(0,s.jsxs)("div",{className:"flex flex-col gap-1 py-1 text-lg",children:[u.map((e,a)=>(0,s.jsx)(T,{query:t,searchContext:e,isHighlighted:n===a,onMouseEnter:()=>l(a),onMouseLeave:()=>l(null),onClick:()=>x(e)},e)),(0,s.jsx)(Z.q,{shortcuts:["ARROWUP"],handler:()=>l(e=>null==e?u.length-1:Math.max(e-1,0)),group:"Search",label:"Select previous autocomplete option",ignoreTarget:()=>!1}),(0,s.jsx)(Z.q,{shortcuts:["ARROWDOWN"],handler:()=>l(e=>null==e?0:Math.min(e+1,u.length-1)),group:"Search",label:"Select next autocomplete option",ignoreTarget:()=>!1}),(0,s.jsx)(Z.q,{shortcuts:["ENTER"],handler:()=>{null!=n&&x(u[n])},group:"Search",label:"Search",ignoreTarget:()=>!1})]})}function T(e){let{query:t,searchContext:n,isHighlighted:l,onMouseEnter:r,onMouseLeave:o,onClick:i}=e,c=(0,h.wk)();return(0,s.jsxs)("div",{className:(0,P.cn)("flex h-[50px] cursor-pointer items-center justify-between gap-1 rounded-2xl px-4",l&&"bg-token-bg-light"),onMouseEnter:r,onMouseLeave:o,onClick:i,children:[(0,s.jsxs)("div",{className:"flex items-center gap-1 truncate",children:[(0,s.jsx)(E.gn,{className:"mr-3 h-5 w-5 shrink-0 text-token-text-tertiary"}),(0,s.jsx)("div",{className:"text-token-text-secondary",children:n===a.Explore?(0,s.jsx)(m.Z,{...D.exploreContext}):c}),(0,s.jsx)(M.Z,{className:"h-5 w-5 shrink-0 text-token-text-secondary"}),(0,s.jsx)("div",{className:"truncate font-semibold",children:t})]}),l&&(0,s.jsx)(L.C,{children:(0,s.jsx)(O.AJ,{shortcut:"ENTER"})})]})}(l=a||(a={})).Library="library",l.Explore="explore";let D=(0,p.vU)({exploreContext:{id:"GlobalSearchAutocomplete.exploreContext",description:"Label for the explore search context",defaultMessage:"Explore"}});var z=n(85405);function U(){let e=F.Z.useState(e=>e.isOpen),t=F.Z.useActions();return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(k.Vq,{open:e,onOpenChange:e=>!e&&t.close(),children:(0,s.jsx)(k.cZ,{showCloseButton:!1,className:"w-[640px] max-w-full overflow-hidden px-0 py-1 max-tablet:top-0 max-tablet:translate-y-0 tablet:translate-y-[-100px]",children:(0,s.jsx)(q,{})})}),(0,s.jsx)(z.Z,{})]})}function q(){let e=F.Z.useState(e=>e.initialQuery),[t,n]=(0,i.useState)(e);return(0,s.jsxs)("div",{className:"flex flex-col truncate",children:[(0,s.jsx)(R,{children:(0,s.jsxs)("div",{className:"flex items-center gap-4 px-4",children:[(0,s.jsx)(E.gn,{className:"h-5 w-5"}),(0,s.jsx)(G,{query:t,setQuery:n})]})}),t.length>0&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(I,{}),(0,s.jsx)(R,{children:(0,s.jsx)(_,{query:t})})]})]})}function R(e){let{children:t}=e;return(0,s.jsx)("div",{className:"px-1.5",children:t})}function I(){return(0,s.jsx)("div",{className:"my-1 h-[1px] bg-token-border-primary"})}function G(e){let{query:t,setQuery:n}=e,l=(0,x.Z)();return(0,s.jsx)(C.I,{variant:"none",className:"h-[50px] text-lg",placeholder:l.formatMessage(K.placeholder),value:t,onChange:e=>n(e.target.value),maxLength:128})}let K=(0,p.vU)({placeholder:{id:"GlobalSearchInput.placeholder",description:"Placeholder for the search input for images and videos",defaultMessage:"Search images and videos"}});var B=n(89295),H=n(66958),W=n.n(H),Q=n(71091),Y=n(73609),X=n(99215);let V=(e,t)=>{let n=(0,i.useRef)(e);(0,i.useEffect)(()=>{let l=n.current;e!==l&&(t(e,l),n.current=e)},[e,t])};var J=n(17965),$=n(19427);function ee(e){var t;let n=(0,X.dD)();return(0,s.jsx)(Q.x7,{position:"top-right",className:"group pointer-events-auto !top-2.5 !z-toast max-tablet:!left-3 max-tablet:!right-3 tablet:!top-[56px] tablet:!w-[260px]",visibleToasts:n?1:5,offset:8,duration:2500,gap:6,toastOptions:{unstyled:!0,classNames:{toast:"group toast surface-toast !w-[calc(100%-24px)] tablet:!w-[260px] px-4 py-3 rounded-xl flex items-center gap-3 shadow-popover text-token-text-inverse",title:"group-[.toast]:font-semibold group-[.toast]:leading-4",description:"group-[.toast]:text-token-text-inverse/40 group-[.toast]:text-xs group-[.toast]:leading-[14px]",icon:"group-[.toast]:h-8 group-[.toast]:w-8 group-[.toast]:justify-center group-[.toast]:m-0",closeButton:"group-[.toast]:surface-toast group-[.toast]:shadow-popover group-[.toast]:border-none",...null===(t=e.toastOptions)||void 0===t?void 0:t.classNames}},icons:{success:(0,s.jsx)(E.fU,{className:"h-6 w-6"}),error:(0,s.jsx)(E.KH,{className:"h-6 w-6"}),loading:(0,s.jsx)($.Z,{className:"h-5 w-5",percentage:"indeterminate"})},...e})}function et(e){let{title:t,description:n,icon:l,onClick:a}=e,[r,o]=(0,i.useState)(!1),[c,d]=(0,i.useState)(null);return(0,s.jsxs)("button",{className:"flex items-center gap-3 px-4 py-3 text-left",onClick:()=>{r||null==a||a()},onPointerDown:e=>d({x:e.clientX,y:e.clientY}),onPointerMove:e=>{if(null!=c){let t=Math.abs(e.clientX-c.x),n=Math.abs(e.clientY-c.y);o(t>10||n>10)}else o(!1)},onPointerUp:()=>d(null),children:[null!=l&&(0,s.jsx)("div",{className:"flex h-8 w-8 shrink-0 items-center justify-center",children:l}),(0,s.jsxs)("div",{className:"flex flex-col gap-0.5",children:[(0,s.jsx)("div",{className:"font-semibold leading-4",children:t}),n&&(0,s.jsx)("div",{className:"text-xs leading-[14px] text-token-text-inverse/40",children:n})]})]})}function en(){let{user:e}=(0,g.aC)(),{tasks:t}=(0,Y.p7)(void 0,null!=e),n=(0,j.Z)(),l=(0,x.Z)(),a=(0,X.dD)();return V(t,(e,t)=>{if(0===t.length)return;let r=W()(t.slice(0,20),"id");e.slice(0,20).forEach(e=>{let t=r[e.id];if(null!=t&&e.status!==t.status&&(e.status===f.hY.succeeded||e.status===f.hY.failed)){var o;let t=(0,Q.Am)((0,s.jsx)(et,{title:null!==(o=e.title)&&void 0!==o?o:"",description:l.formatMessage(e.status===f.hY.succeeded?a?el.taskReadyMobile:el.taskReady:a?el.taskFailedMobile:el.taskFailed),icon:(0,s.jsx)(J.Z,{task:e,className:"rounded-lg",useTransparentBackground:!0}),onClick:()=>{n.push((0,h.Eu)(e)),Q.Am.dismiss(t)}}),{unstyled:!0,classNames:{toast:"!p-0"},duration:8e3,closeButton:!a})}})}),null}let el=(0,p.vU)({taskReady:{id:"taskWatcher.taskReady",description:"Notification message when a task is ready to view",defaultMessage:"Ready \xb7 Click to view"},taskReadyMobile:{id:"taskWatcher.taskReadyMobile",description:"Notification message when a task is ready to view on mobile",defaultMessage:"Ready \xb7 Tap to view"},taskFailed:{id:"taskWatcher.taskFailed",description:"Notification message when a task has failed",defaultMessage:"Click to retry"},taskFailedMobile:{id:"taskWatcher.taskFailedMobile",description:"Notification message when a task has failed on mobile",defaultMessage:"Tap to retry"}});var ea=n(44825),es=n(4537),er=n(56579),eo=n.n(er),ei=n(62369),ec=n(57731);let ed=e=>{let{children:t}=e,[n,l]=(0,i.useState)(ei.Y.getHasFailed()),[a,r]=(0,i.useState)(void 0);return(ei.Y.onFailed(e=>{l(!0),r(e.param)}),n)?(0,s.jsx)(ec.f,{onClose:eo(),country:a,forceOpen:!0}):(0,s.jsx)(s.Fragment,{children:t})};var eu=n(1782),eh=n(87388),ex=n(93838),em=n(174),ep=n(27416),ef=(n(62102),n(96334)),eg=n(34980),ev=n(90813),ej=n(4516),eb=n(63215);n(38723),n(23536),n(49309);var ey=n(64312);n(21091);var ek=n(85406),eN=n(58775),ew=n(23495),eS=n(2015),eE=n(8074),eC=n(81337);let eM=i.lazy(()=>n.e(8828).then(n.bind(n,68828)).then(e=>({default:e.ReactQueryDevtools}))),eP=()=>{let e=(0,o.useSearchParams)(),t=eS.E.useActions(),n=eS.E.useState(e=>e.isOpen),[l,a]=(0,i.useState)(!1),[r,c]=(0,i.useState)("bottom-right"),[d,u]=(0,i.useState)("bottom"),h="1"===e.get("debug");return(0,i.useEffect)(()=>{h&&t.setOpen(!0)},[h,t]),(0,s.jsxs)("div",{className:"group fixed bottom-0 left-0 z-[9999] h-4 w-4 transition-all duration-300 hover:pointer-events-auto hover:h-auto hover:w-auto",children:[(0,s.jsx)(em.e.Register,{shortcut:["MOD+ALT+A"],group:"Admin Panel",label:"Open Admin Panel",handler:()=>t.setOpen(!n)}),(0,s.jsx)("div",{className:"rounded-tr-xl bg-transparent p-2 group-hover:bg-token-bg-tertiary",children:(0,s.jsx)("div",{className:"hidden group-hover:block",children:(0,s.jsx)(e_,{isOpen:n,children:(0,s.jsxs)("div",{className:"flex h-full flex-col justify-between",children:[(0,s.jsx)("div",{className:"flex flex-1 flex-col",children:(0,s.jsxs)(ey.mQ,{defaultValue:"page-details",children:[(0,s.jsxs)(ey.dr,{className:"sticky left-0 right-0 top-0 -ml-0.5 mb-4 w-full gap-0.5 bg-background pb-2 pt-4",children:[(0,s.jsx)(ey.SP,{value:"page-details",className:"flex justify-between gap-1 rounded-xl px-2 py-2.5 font-medium hover:bg-token-bg-light data-[state=active]:bg-token-bg-active",children:"Page Details"}),null]}),(0,s.jsx)(ey.nU,{value:"page-details",children:(0,s.jsx)(eA,{})}),null]})}),(0,s.jsx)("div",{className:"flex w-full shrink-0 items-center justify-center pb-2",children:(0,s.jsx)(y.z,{onClick:()=>t.setOpen(!1),children:"Close Admin Panel"})})]})})})}),l&&(0,s.jsx)(eM,{buttonPosition:r,position:d})]})};function eA(){let e;let t=(0,o.usePathname)(),n=(0,ej.D9)(t);switch(n.pageType){case ej.EB.Generation:case ej.EB.GenerationUse:case ej.EB.GenerationStoryboard:e=(0,s.jsx)(eZ,{generationId:n.params.generationId});break;case ej.EB.Task:case ej.EB.TaskStoryboard:e=(0,s.jsx)(eL,{taskId:n.params.taskId});break;default:e=(0,s.jsx)("div",{children:"No admin panel details available for this page"})}return(0,s.jsx)("div",{className:"p-4",children:(0,s.jsx)("div",{className:"flex flex-col gap-4",children:e})})}function eZ(e){let{generationId:t}=e,n=(0,eE.Ke)(),{data:l}=(0,eN.useQuery)({queryKey:["adminGeneration",t],queryFn:()=>n?ei.Z.curatorGetGeneration(t):ei.Z.adminGetGeneration(t),meta:{normalize:!1}});return null==l?(0,s.jsx)("div",{children:"Loading..."}):(0,s.jsx)(eO,{taskOrGeneration:l})}function eL(e){let{taskId:t}=e,{data:n}=(0,ew.T)({id:t});return null==n?(0,s.jsx)("div",{children:"Loading..."}):(0,s.jsx)(eO,{taskOrGeneration:n})}let eO=e=>{var t;let{taskOrGeneration:n}=e,[l,a]=(0,i.useState)(!1),r=(0,eC.K7)(n)&&"admin_user"in n?n.admin_user.email:null;return(0,s.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,s.jsxs)("div",{className:"flex flex-col items-start gap-2",children:[(0,s.jsxs)(eb.Z,{className:"underline",href:(0,eC.N2)(n)?(0,h.Eu)(n):(0,h.yA)(n.id),children:[(0,eC.N2)(n)?"Task":"Generation"," ",n.id]}),r&&(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)("b",{children:"Email:"}),(0,s.jsx)("span",{children:r}),(0,s.jsxs)(ek.u,{children:[(0,s.jsx)(ek.aJ,{asChild:!0,children:(0,s.jsx)(y.z,{size:"icon-sm",variant:"ghost",onClick:()=>{new Promise((e,t)=>{if("undefined"==typeof navigator||!navigator.clipboard)return t();try{navigator.clipboard.writeText(r)}catch(e){return t()}return e("success")}),Q.Am.success("Copied email to clipboard")},className:"shrink-0",children:(0,s.jsx)(E.CK,{className:"h-3.5 w-3.5"})})}),(0,s.jsx)(ek._v,{children:"Copy to clipboard"})]})]}),(0,s.jsxs)(y.z,{size:"minimal",variant:"ghost",onClick:()=>a(!l),children:[l?"Hide Full Object":"Show Full Object"," >"]})]}),l?(0,s.jsx)(eF,{data:n,field:null,label:"Full Object"}):null,(0,s.jsx)(eF,{data:n,field:"caption",label:"Caption"}),(0,eC.N2)(n)?(0,s.jsx)(eF,{data:null===(t=n.generations)||void 0===t?void 0:t[0],field:"caption",label:"Generation Caption"}):null,(0,s.jsx)(eF,{data:n,field:"output_moderation_result",label:"Output Moderation Result"}),(0,s.jsx)(eF,{data:n,field:"config",label:"Generation Config"}),(0,s.jsx)(eF,{data:n,field:"legal_classifier_result",label:"Legal Classifier Result"}),(0,s.jsx)(eF,{data:n,field:"max_visibility",label:"Max Visibility"})]})};function eF(e){let{data:t,field:n,label:l}=e;if(null==t||null!=n&&null==t[n])return null;let a=null!=n?t[n]:t;return(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-sm font-medium",children:l}),(0,s.jsx)("pre",{className:"overflow-auto whitespace-pre-wrap break-words rounded-lg bg-token-bg-tertiary p-4 text-xs text-token-text-primary",children:JSON.stringify(a,null,2)})]})}function e_(e){let{isOpen:t,children:n}=e,l=eS.E.useActions(),a=(0,X.dD)();return(0,s.jsx)(ev.fC,{open:t,onOpenChange:e=>{l.setOpen(e)},modal:!1,children:(0,s.jsx)(ev.h_,{children:(0,s.jsx)(ev.VY,{className:(0,P.cn)("dialog-content","fixed z-50 flex h-auto flex-col rounded-t-[10px] border bg-background",a?"inset-x-0 bottom-0 mt-24":"fixed bottom-0 right-0 top-0 w-[410px] outline-none"),onInteractOutside:e=>{e.preventDefault()},onCloseAutoFocus:e=>{e.preventDefault()},onPointerDownOutside:e=>{e.preventDefault()},onEscapeKeyDown:e=>{e.preventDefault()},children:(0,s.jsx)("div",{className:"pointer-events-auto h-full select-text overflow-y-auto",style:{scrollbarGutter:"stable"},children:n})})})})}var eT=n(88401),eD=n(34086),ez=n(99615),eU=n(63031),eq=n(83696),eR=n(5832),eI=n(83980),eG=n(33161),eK=n(10687),eB=n(68655),eH=n(57720);let eW={acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv",noModule:"noModule"};function eQ(e){let{type:t,props:n}=e,l=document.createElement(t);for(let e in n){if(!n.hasOwnProperty(e)||"children"===e||"dangerouslySetInnerHTML"===e||void 0===n[e])continue;let a=eW[e]||e.toLowerCase();"script"===t&&("async"===a||"defer"===a||"noModule"===a)?l[a]=!!n[e]:l.setAttribute(a,n[e])}let{children:a,dangerouslySetInnerHTML:s}=n;if(s){var r;l.innerHTML=null!==(r=s.__html)&&void 0!==r?r:""}else a&&(l.textContent="string"==typeof a?a:Array.isArray(a)?a.join(""):"");return l}let eY=(e,t)=>{var n,l;let a=document.getElementsByTagName("head")[0],s=a.querySelector("meta[name=vg-head-count]");if(!s){if((0,eH.zj)()===eH.qA.Production)return;console.error("Warning: vg-head-count is missing");return}let r=Number(s.content),o=[];for(let t=0,a=s.previousElementSibling;t<r;t++,a=null!==(n=null==a?void 0:a.previousElementSibling)&&void 0!==n?n:null)(null==a?void 0:null===(l=a.tagName)||void 0===l?void 0:l.toLowerCase())===e&&o.push(a);let i=t.map(eQ).filter(e=>{for(let t=0,n=o.length;t<n;t++)if(function(e,t){if(e instanceof HTMLElement&&t instanceof HTMLElement){let n=t.getAttribute("nonce");if(n&&!e.getAttribute("nonce")){let l=t.cloneNode(!0);return l.setAttribute("nonce",""),l.nonce=n,n===e.nonce&&e.isEqualNode(l)}}return e.isEqualNode(t)}(o[t],e))return o.splice(t,1),!1;return!0});o.forEach(e=>{var t;return null===(t=e.parentNode)||void 0===t?void 0:t.removeChild(e)}),i.forEach(e=>a.insertBefore(e,s)),s.content=(r-o.length+i.length).toString()};var eX=n(69519),eV=n(77125);let eJ=()=>()=>{};function e$(e){return(0,i.useSyncExternalStore)(eJ,e,()=>void 0)}var e0=n(41793);let e1="en-US",e5=[e1],e8=[...e5,"dev"],e2={dev:"dev",en:"en-US","en-us":"en-US"},e4=new Set([]),e6=(e,t)=>{let n=function(e){let t=e.replace("_","-").toLowerCase();if(t in e2)return e2[t];let n=t.split("-");for(let e=n.length-1;e>=1;e--){let t=n.slice(0,e).join("-");if(t in e2)return e2[t]}return null}(e);return null==n?null:t||e5.includes(n)?n:null},e3=async e=>({}),e7=async(e,t,n)=>{try{let n=await e3(e);t(n)}catch(e){n(e)}},e9=e0.F.SelectedLocale,te=()=>{let e=e0.m.getItem(e9);return null!=e?e6(e,!0):null},tt=(0,i.createContext)(null),tn=e=>{var t,n,l,a;let{unsanitizedLocaleFromUrlQueryParam:r,children:o}=e,c=(0,i.useRef)(r);null!=r&&(c.current=r);let d=null!==(t=e$(()=>te()))&&void 0!==t?t:null,u=null==c.current?null:e6(c.current,!0),h=e$(()=>navigator.language),x=null==h?null:e6(h,!1),m=null!==(l=null!==(n=null!=u?u:d)&&void 0!==n?n:x)&&void 0!==l?l:e1;(0,i.useLayoutEffect)(()=>{e4.has(m),document.documentElement.dir="ltr"},[m,!1]);let[p,f]=(0,i.useState)({[e1]:{}});(0,i.useEffect)(()=>{null!=h&&(0,eG.Kz)((0,eG.e1)("loaded","locale"),m,{loaded_locale:m,raw_browser_locale:null!=h?h:"",suggested_locale:null!=x?x:""})},[m,h,x]),(0,i.useEffect)(()=>{let e=!0;return e7(m,t=>{e&&(null!=document.documentElement&&(document.documentElement.lang=m),f(e=>({...e,[m]:t})))},t=>{if(e)try{eh.DatadogLogger.addError("local_import_error",{error_string:t.toString()})}catch(e){eh.DatadogLogger.addError("local_import_error_generic")}}),()=>{e=!1}},[m]);let g=(0,i.useMemo)(()=>({currentLocale:m,localPreferenceLocale:d,localeList:e8.filter(e=>e5.includes(e)||!1),setLocale:e=>{null==e?e0.m.removeItem(e9):e0.m.setItem(e9,e),window.location.reload()},suggestedLocale:x,unsanitizedBrowserLocale:h}),[m,d,!1,x,h]),v=(0,s.jsx)(eV.Z,{defaultLocale:e1,locale:null!=p[m]?m:e1,messages:null!==(a=p[m])&&void 0!==a?a:p[e1],children:(0,s.jsx)(eX._9,{dir:e4.has(m)?"rtl":"ltr",children:o})});return(0,s.jsx)(tt.Provider,{value:g,children:v})};var tl=n(16154);let ta=(0,i.createContext)({updateHead:()=>{}}),ts=e=>{let{children:t,unsanitizedLocaleFromUrlQueryParam:n=null}=e,{updateHead:l}=(0,i.useMemo)(()=>(function(){if(eH.sk)return{mountedInstances:new Set,updateHead:()=>{}};let e=document.querySelector("head"),t=document.createElement("meta");return t.setAttribute("name","vg-head-count"),t.setAttribute("content","0"),e&&e.appendChild(t),{mountedInstances:new Set,updateHead:e=>{let t={};e.forEach(e=>{if("link"===e.type&&e.props["data-optimized-fonts"]){if(document.querySelector('style[data-href="'.concat(e.props["data-href"],'"]')))return;e.props.href=e.props["data-href"],e.props["data-href"]=void 0}let n=t[e.type]||[];n.push(e),t[e.type]=n});let n=t.title?t.title[0]:null,l="";if(n){let{children:e}=n.props;l="string"==typeof e?e:Array.isArray(e)?e.join(""):""}l&&l!==document.title&&(document.title=l),["meta","base","link","style","script"].forEach(e=>{eY(e,t[e]||[])})}}})(),[]);return(0,s.jsx)(ta.Provider,{value:{updateHead:l},children:(0,s.jsx)(ep.QueryClientProvider,{client:tl.E,children:(0,s.jsx)(ex.oE,{queryClient:tl.E,normalizerConfig:{devLogging:!1},children:(0,s.jsx)(eq._,{children:(0,s.jsx)(to,{children:(0,s.jsx)(d.Z.Provider,{children:(0,s.jsxs)(tn,{unsanitizedLocaleFromUrlQueryParam:n,children:[(0,s.jsx)(tr,{}),(0,s.jsx)(ef.f,{defaultTheme:"dark",attribute:"class",children:(0,s.jsx)(eS.E.Provider,{children:(0,s.jsx)(g.Ho,{children:(0,s.jsx)(em.e.Provider,{children:(0,s.jsxs)(ek.pn,{children:[(0,s.jsx)(eB.D,{children:(0,s.jsx)(eT.Z.Provider,{children:(0,s.jsx)(eD.ZP.Provider,{children:(0,s.jsx)(eR.e.Provider,{children:(0,s.jsx)(F.Z.Provider,{children:(0,s.jsxs)(ez.Fd,{children:[t,!1]})})})})})}),(0,s.jsx)(eP,{})]})})})})})]})})})})})})})},tr=()=>{let{session:e}=(0,eI.kP)(),t=(0,eE.cn)();return(null==e?void 0:e.user)&&eh.DatadogLogger.setUser(e.user,t,[]),null},to=e=>{var t,n;let{children:l}=e,{session:a}=(0,eI.kP)(),r=(0,eK.r)(),{activeChatgptSubscription:o}=(0,eU.Pd)();return(0,i.useEffect)(()=>{(null==a?void 0:a.user)&&eK.A.initialize({userInfo:{sessionUser:a.user}})},[null==a?void 0:a.user]),(0,s.jsx)(eg.StatsigProvider,{sdkKey:"client-DzaeusRY6Gm5hVZ7jDUxIswfFPvPFHCz1KaxQ3aiISn",waitForInitialization:!0,user:{userID:null==a?void 0:null===(t=a.user)||void 0===t?void 0:t.id,email:null==a?void 0:null===(n=a.user)||void 0===n?void 0:n.email,custom:{planId:null==o?void 0:o.plan.id},customIDs:r?{stableID:r}:void 0},options:{environment:{tier:(0,eE.NA)()},api:"https://ab.chatgpt.com/v1/",overrideStableID:r,initCompletionCallback:e=>(0,eG.Kz)((0,eG.e1)("initialize","statsig"),e)},children:l})};var ti=n(48918);function tc(e){let{children:t,modalPages:n}=e,l=new URLSearchParams(window.location.search).get("locale");return(0,s.jsx)("html",{lang:"en",suppressHydrationWarning:!0,children:(0,s.jsx)("body",{className:(0,P.cn)("min-h-screen overscroll-none bg-token-bg-primary font-sans antialiased"),children:(0,s.jsx)(es.S,{noIntl:!0,children:(0,s.jsx)(ts,{unsanitizedLocaleFromUrlQueryParam:l,children:(0,s.jsx)(es.S,{children:(0,s.jsxs)(B.Yx,{debugName:"globalTaskGenerationProviders",persistConfigToLocalStorageKey:B.vW,persistAuxConfigToLocalStorageKey:B.uc,children:[(0,s.jsx)(td,{children:(0,s.jsx)(ed,{children:t})}),n,(0,s.jsx)(i.Suspense,{fallback:null,children:(0,s.jsx)(c.B,{})}),(0,s.jsx)(ee,{}),(0,s.jsx)(en,{}),(0,s.jsx)(ea.n,{}),(0,s.jsx)(U,{}),(0,s.jsx)(S,{})]})})})})})})}n(2080),n(2915);let td=e=>{let{children:t}=e,n=d.Z.useState(e=>e.hasCustomRootPageAnimation),l=d.Z.useState(e=>e.isOpen),a=(0,o.usePathname)(),c=function(){let{updateHead:e}=(0,i.useContext)(ta);return e}();(0,i.useEffect)(()=>{c([(0,s.jsx)("link",{rel:"icon",href:eu.Uq,type:"image/x-icon"},"favicon"),(0,s.jsx)("link",{rel:"icon",href:eu.BP,type:"image/x-icon",media:"(prefers-color-scheme: light)"},"favicon-light"),(0,s.jsx)("link",{rel:"icon",href:eu.Fu,type:"image/x-icon",media:"(prefers-color-scheme: dark)"},"favicon-dark"),(0,s.jsx)("link",{rel:"apple-touch-icon",href:eu.tc,sizes:"180x180"},"apple-touch-icon"),(0,s.jsx)("title",{children:"Sora"},"title")])},[a]);let u=(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"h-full max-h-screen min-h-screen w-full",children:t}),(0,s.jsx)(X.fY,{})]});return n?(0,s.jsx)("main",{className:"relative flex max-h-screen min-h-screen flex-col items-center justify-between",children:u}):(0,s.jsx)(r.E.main,{className:"relative flex max-h-screen min-h-screen flex-col items-center justify-between",animate:{scale:l?eu.mm:1,opacity:l?0:1},transition:{...eu.hc,delay:l?0:eu.Nk},children:u})};(0,ti.oA)().catch(e=>{eh.DatadogLogger.addError("Failed to load Sentinel SDK",{cause:e})})},85405:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var l=n(38638),a=n(6327),s=n(54190);function r(){let e=s.Z.useState(e=>e.isOpen),t=s.Z.useActions();return(0,l.jsx)(a.q,{shortcuts:["MOD+K"],handler:()=>e?t.close():t.open(),group:"Search",label:"Search",ignoreTarget:()=>!1})}},12908:function(e,t,n){"use strict";n.d(t,{q:function(){return i}});var l=n(82756),a=n(62369),s=n(8777),r=n(8074),o=n(16154);function i(e){var t;let[n,i]=(0,l.useState)(!1),c=(0,r.pK)(),{data:d}=(0,s.Uc)(),u=null==d||!d.announcements||null===(t=d.announcements[e])||void 0===t||t,h=(0,l.useCallback)(()=>{o.E.setQueryData(s.OZ,t=>{var n;return t?{...t,announcements:{...null!==(n=t.announcements)&&void 0!==n?n:{},[e]:!0}}:t}),i(!0),a.Z.markAnnouncementShown(e)},[e]);return c?{shouldShow:!1,markAsSeen:()=>{}}:{shouldShow:!u&&!n,markAsSeen:h}}},2080:function(){},2915:function(){}},function(e){e.O(0,[8873,1108,3346,2264,734,8145,1350,5986,4734,4918,1162,1744],function(){return e(e.s=2087)}),_N_E=e.O()}]);
//# sourceMappingURL=layout-c09f177f5a738342.js.map